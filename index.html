<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>N-Queens</title>
</head>
<body>
    <script>
        var solveNQueens = function(n) {

            let setQueen = []
            let resultQueen = []
            let count = 0
            let printStr = ''
            let nMax = n

            function printQueen() {
                let result = []

                for (let i = 0; i < nMax; i++) {
                    for (let j = 0; j < nMax; j++) {
                        if (setQueen[i] == j) {
                            printStr += 'Q'
                        } else {
                            printStr += '.'
                        }
                    }

                    if(printStr.length == nMax) {
                        result.push(printStr)
                        printStr = ''
                    }
                }

                return result
            }


            function isSafe(row, col) {
                let leftUp = col - 1			
                let rightUp = col + 1			

                for (let i = row - 1; i >= 0; i--) {
                    if (setQueen[i] == col) return false				
                    if (leftUp >= 0) {
                        if (setQueen[i] == leftUp) return false	
                    }
                    if (rightUp < nMax) {
                        if (setQueen[i] == rightUp) return false	
                    }
                    --leftUp
                    ++rightUp     
                }

                return true
            }

            function eightQueen(row) {

                if (row == nMax) {
                    printQueen(nMax)
                    resultQueen.push(printQueen())
                    return
                }

                for (let col = 0; col < nMax; col++) {
                    if (isSafe(row, col, nMax)) {
                        setQueen[row] = col
                        eightQueen(row + 1)
                    }
                }


                return resultQueen
            }

            return eightQueen(0)
        };
    </script>
</body>
</html>